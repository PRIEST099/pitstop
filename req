#!/bin/bash

# Find Python files that import Flask modules
python_files=$(grep -r --include="*.py" "from flask\|import flask" . | cut -d ':' -f 1 | sort -u)

# Extract modules and add them to requirements.txt
echo "# Requirements generated by script on $(date)" > requirements.txt
for file in $python_files; do
    echo "Checking $file..."
    modules=$(grep -oP "from flask(\.| )\K([a-zA-Z0-9_]+)|import (\K[a-zA-Z0-9_]+)" "$file" | tr '\n' ' ')
    echo "$modules" >> requirements.txt
done

echo "Requirements.txt file generated successfully."

